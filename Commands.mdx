---
title: 'Commands'
date: '2025-08-03'
tags: ['']
draft: false
summary:
---

```shell
# 拉取单个 tag
$ git fetch origin tag v0.0.0
From git.chaowen.work:my-apps/gm_app_ui
 ! [rejected]        v0.0.0     -> v0.0.0  (would clobber existing tag)

$ git fetch origin tag v0.0.0 --force
From git.chaowen.work:my-apps/gm_app_ui
 t [tag update]      v0.0.0     -> v0.0.0

# 拉取所有 tag
$ git fetch origin --tags --force
```

```shell
sudo ln -sf /path/app /usr/local/bin/app
```

```shell
~/.config

/etc/systemd/system/clash.service
/etc/systemd/files
/etc/smd/files
/etc/smd/services
```

List Services

```shell
systemctl list-unit-files --type=service
systemctl list-unit-files --type=service --state=enable
systemctl list-unit-files --type=service --state=disable
```

Add Service

```shell
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable clash
sudo systemctl restart clash
sudo systemctl status clash
journalctl -fu clash.service
```

DNS Delay
```shell
dig +stats raymond.mydarkcloud.info
dig @8.8.8.8 +stats raymond.mydarkcloud.info
```

Extract Gz



```shell
# 没有首层，首层就是选定的所有文件. 压缩结果在 ./archive.tar.gz
target=./temp
cd ${target}
# 不存储文件权限、时间戳等元信息，确保每次打包结果一致
tar --sort=name --mtime='2020-01-01' --owner=0 --group=0 --numeric-owner -cf - . | gzip > archive.tar.gz
hash=$(md5sum archive.tar.gz | awk '{print substr($1,1,8)}')
mv archive.tar.gz ../archive-${hash}.tar.gz
cd ..

# 含首层，压缩结果在 ./archive.tar.gz
target=temp1
tar -czvf archive.tar.gz ./${target}

# 解压到当前目录
tar xf archive.tar.gz
# or
tar xf archive.tar.gz -C .
```

tips: tar 文件头部信息：https://man.archlinux.org/man/tar.5.en
